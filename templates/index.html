<!DOCTYPE html>
<html>
<head>
    <title>Dragon Boat Team Attendance</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/styles.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-end mb-4 flex-wrap">
            <h1>派兜出席表</h1>
            <div>
                <label for="selectDate" class="form-label">Select Date:</label>
                <select id="selectDate" class="form-select" onchange="onDateChange()"></select>
            </div>
        </div>
        <div class="table-responsive">
            <div class="row">
                <div class="col-lg-6 col-12 mb-4" id="bigDragonTableContainer">
                    <table class="table table-sm table-bordered">
                        <caption class="caption-top">大龍 <span id="bigDragonDate"></span></caption>
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">左</th>
                                <th scope="col">右</th>
                            </tr>
                        </thead>
                        <tbody id="paddleTableBody">
                            <tr><td>0</td><td><select class="form-select" id="left_0"></select></td><td><select class="form-select" id="right_0"></select></td></tr>
                            <tr><td>1</td><td><select class="form-select" id="left_1"></select></td><td><select class="form-select" id="right_1"></select></td></tr>
                            <tr><td>2</td><td><select class="form-select" id="left_2"></select></td><td><select class="form-select" id="right_2"></select></td></tr>
                            <tr><td>3</td><td><select class="form-select" id="left_3"></select></td><td><select class="form-select" id="right_3"></select></td></tr>
                            <tr><td>4</td><td><select class="form-select" id="left_4"></select></td><td><select class="form-select" id="right_4"></select></td></tr>
                            <tr><td>5</td><td><select class="form-select" id="left_5"></select></td><td><select class="form-select" id="right_5"></select></td></tr>
                            <tr><td>6</td><td><select class="form-select" id="left_6"></select></td><td><select class="form-select" id="right_6"></select></td></tr>
                            <tr><td>7</td><td><select class="form-select" id="left_7"></select></td><td><select class="form-select" id="right_7"></select></td></tr>
                            <tr><td>8</td><td><select class="form-select" id="left_8"></select></td><td><select class="form-select" id="right_8"></select></td></tr>
                            <tr><td>9</td><td><select class="form-select" id="left_9"></select></td><td><select class="form-select" id="right_9"></select></td></tr>
                            <tr><td>10</td><td><select class="form-select" id="left_10"></select></td><td><select class="form-select" id="right_10"></select></td></tr>
                            <tr><td>11</td><td><select class="form-select" id="left_11"></select></td><td><select class="form-select" id="right_11"></select></td></tr>
                            <tr><td>12</td><td><select class="form-select" id="left_12"></select></td><td><select class="form-select" id="right_12"></select></td></tr>
                            <tr><td>舵手</td><td><select class="form-select" id="left_helmsman"></select></td><td></td></tr>
                            <tr><td>重量</td><td id="leftWeight">0</td><td id="rightWeight">0</td></tr>
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-between">
                        <button onclick="clearTable('bigDragonTableContainer')" class="btn" style="background-color: #33312E; color: #E0E2DB;">清除表格</button>
                        <button onclick="exportTableToImage('bigDragonTableContainer', '大龍')" class="btn" style="background-color: #b8bdb5; color: #33312e;">Print Big Dragon</button>
                    </div>
                </div>
                <div class="col-lg-6 col-12 mb-4" id="smallDragonTableContainer">
                    <table class="table table-sm table-bordered">
                        <caption class="caption-top">小龍 <span id="smallDragonDate"></span></caption>
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">左</th>
                                <th scope="col">右</th>
                            </tr>
                        </thead>
                        <tbody id="smallPaddleTableBody">
                            <tr><td>0</td><td><select class="form-select" id="small_left_0"></select></td><td><select class="form-select" id="small_right_0"></select></td></tr>
                            <tr><td>1</td><td><select class="form-select" id="small_left_1"></select></td><td><select class="form-select" id="small_right_1"></select></td></tr>
                            <tr><td>2</td><td><select class="form-select" id="small_left_2"></select></td><td><select class="form-select" id="small_right_2"></select></td></tr>
                            <tr><td>3</td><td><select class="form-select" id="small_left_3"></select></td><td><select class="form-select" id="small_right_3"></select></td></tr>
                            <tr><td>4</td><td><select class="form-select" id="small_left_4"></select></td><td><select class="form-select" id="small_right_4"></select></td></tr>
                            <tr><td>5</td><td><select class="form-select" id="small_left_5"></select></td><td><select class="form-select" id="small_right_5"></select></td></tr>
                            <tr><td>6</td><td><select class="form-select" id="small_left_6"></select></td><td><select class="form-select" id="small_right_6"></select></td></tr>
                            <tr><td>7</td><td><select class="form-select" id="small_left_7"></select></td><td><select class="form-select" id="small_right_7"></select></td></tr>
                            <tr><td>8</td><td><select class="form-select" id="small_left_8"></select></td><td><select class="form-select" id="small_right_8"></select></td></tr>
                            <tr><td>舵手</td><td><select class="form-select" id="small_helmsman"></select></td><td></td></tr>
                            <tr><td>重量</td><td id="smallLeftWeight">0</td><td id="smallRightWeight">0</td></tr>
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-between">
                        <button onclick="clearTable('smallDragonTableContainer')" class="btn" style="background-color: #33312E; color: #E0E2DB;">清除表格</button>
                        <button onclick="exportTableToImage('smallDragonTableContainer', '小龍')" class="btn" style="background-color: #D2D4C8; color: #33312e;">Print Small Dragon</button>
                    </div>
                </div>
            </div>
        </div>
        <h4 class="mt-4">今日出席人員</h4>
        <div id="attendanceList" class="mt-3"></div>
        <div id="loading" class="loading-overlay">Loading...</div>
    </div>
    <div class="container mt-4">
        <button onclick="window.location.href='/members'" class="btn" style="background-color: #33312E; color: #E0E2DB;">Member Management</button>
    </div>
    <footer style="background-color: #b8bdb5; margin-top: 20px;">
        <div class="text-center p-3">
            <p>&copy; 2024 Paddle Zelos | Developed by yunjung</p>
        </div>
    </footer>
    <script src="/static/index.js"></script>
</body>
</html>
